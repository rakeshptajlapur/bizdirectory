{% extends 'directory/base.html' %}
{% load static %}

{% block title %}Add Your Business Listing | BizDirectory{% endblock %}

{% block hero %}
<div class="hero-section" style="min-height: 500px;">
    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop class="hero-video">
            <source src="{% static 'directory/videos/hero-background.mp4' %}" type="video/mp4">
        </video>
    </div>
    <div class="hero-overlay"></div>
    
    <div class="container position-relative py-5 text-center">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h1 class="display-4 text-white fw-bold mb-3">List Your Business & Get Discovered</h1>
                <p class="lead text-white mb-4">Join 5000+ verified businesses growing their customer base on BizDirectory</p>
                {% if user.is_authenticated %}
                    {% if user.profile.is_business_owner %}
                        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                            <a href="{% url 'directory:add_business' %}" class="btn btn-primary btn-lg px-4 py-3">Add New Listing</a>
                            <a href="{% url 'directory:dashboard_home' %}" class="btn btn-outline-light btn-lg px-4 py-3">Go to Dashboard</a>
                        </div>
                    {% else %}
                        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                            <a href="{% url 'accounts:upgrade_to_business' %}" class="btn btn-primary btn-lg px-4 py-3">Upgrade to Business</a>
                            <a href="{% url 'directory:dashboard_home' %}" class="btn btn-outline-light btn-lg px-4 py-3">Go to Dashboard</a>
                        </div>
                    {% endif %}
                {% else %}
                    <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                        <a href="{% url 'account_signup' %}" class="btn btn-primary btn-lg px-4 py-3">Get Started Free</a>
                        <a href="{% url 'account_login' %}" class="btn btn-outline-light btn-lg px-4 py-3">Already Member? Login</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<!-- Quick Stats Section -->
<section class="py-5 bg-primary">
    <div class="container">
        <div class="row text-center text-white">
            <div class="col-md-3 mb-4 mb-md-0">
                <div class="h2 fw-bold mb-0">5000+</div>
                <p class="mb-0">Active Businesses</p>
            </div>
            <div class="col-md-3 mb-4 mb-md-0">
                <div class="h2 fw-bold mb-0">50K+</div>
                <p class="mb-0">Monthly Visitors</p>
            </div>
            <div class="col-md-3 mb-4 mb-md-0">
                <div class="h2 fw-bold mb-0">92%</div>
                <p class="mb-0">Business Growth</p>
            </div>
            <div class="col-md-3">
                <div class="h2 fw-bold mb-0">24-48hrs</div>
                <p class="mb-0">Approval Time</p>
            </div>
        </div>
    </div>
</section>

<!-- How to Get Started Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Simple 3-Step Process</h2>
            <p class="lead text-muted">From signup to live business listing in under 48 hours</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="bg-primary bg-opacity-10 rounded-circle p-4 d-inline-flex mb-4" style="width: 100px; height: 100px; align-items: center; justify-content: center;">
                            <i class="bi bi-person-plus fs-1 text-primary"></i>
                        </div>
                        <div class="step-number">01</div>
                        <h4 class="fw-bold mb-3">Create Account</h4>
                        <p class="text-muted mb-4">Sign up for free with just your email and basic information. Takes less than 2 minutes.</p>
                        <div class="text-start">
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>100% Free Registration</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Email Verification</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Instant Dashboard Access</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle p-4 d-inline-flex mb-4" style="width: 100px; height: 100px; align-items: center; justify-content: center;">
                            <i class="bi bi-arrow-up-circle fs-1 text-success"></i>
                        </div>
                        <div class="step-number">02</div>
                        <h4 class="fw-bold mb-3">Upgrade to Business</h4>
                        <p class="text-muted mb-4">Upgrade your account to business type from dashboard. Completely free with premium features available.</p>
                        <div class="text-start">
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Free Business Upgrade</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Access Business Dashboard</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Add Listing Permission</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-flex mb-4" style="width: 100px; height: 100px; align-items: center; justify-content: center;">
                            <i class="bi bi-building-add fs-1 text-warning"></i>
                        </div>
                        <div class="step-number">03</div>
                        <h4 class="fw-bold mb-3">Add Your Listing</h4>
                        <p class="text-muted mb-4">Fill business details, upload images, and submit for approval. Go live in 24-48 hours!</p>
                        <div class="text-start">
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Easy Form Interface</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Multiple Image Upload</small><br>
                            <small class="text-success"><i class="bi bi-check-circle-fill me-2"></i>Fast Approval Process</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Free vs Premium Features -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Start Free, Upgrade When Ready</h2>
            <p class="lead text-muted">Begin with our free plan and unlock premium features for just ₹5000/year</p>
        </div>
        
        <div class="row g-4">
            <!-- Free Plan -->
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h3 class="fw-bold">Free Listing</h3>
                            <div class="display-4 fw-bold text-success">₹0</div>
                            <p class="text-muted">Forever free</p>
                        </div>
                        
                        <ul class="list-unstyled">
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Basic business profile</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Up to 3 business images</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>List up to 5 services</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Basic contact information</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Customer reviews</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center text-muted">
                                <i class="bi bi-x-circle me-3"></i>
                                <span>Verification badges</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center text-muted">
                                <i class="bi bi-x-circle me-3"></i>
                                <span>Direct customer enquiries</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center text-muted">
                                <i class="bi bi-x-circle me-3"></i>
                                <span>Priority search ranking</span>
                            </li>
                        </ul>
                        
                        <div class="d-grid mt-4">
                            {% if user.is_authenticated %}
                                {% if user.profile.is_business_owner %}
                                    <a href="{% url 'directory:add_business' %}" class="btn btn-success btn-lg">Add Free Listing</a>
                                {% else %}
                                    <a href="{% url 'accounts:upgrade_to_business' %}" class="btn btn-success btn-lg">Upgrade to Business</a>
                                {% endif %}
                            {% else %}
                                <a href="{% url 'account_signup' %}" class="btn btn-success btn-lg">Get Started Free</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Premium Plan -->
            <div class="col-lg-6">
                <div class="card border-primary shadow h-100 position-relative">
                    <div class="badge bg-primary position-absolute top-0 start-50 translate-middle px-3 py-2">
                        MOST POPULAR
                    </div>
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h3 class="fw-bold">Premium Listing</h3>
                            <div class="display-4 fw-bold text-primary">₹5000</div>
                            <p class="text-muted">Per year (₹417/month)</p>
                        </div>
                        
                        <ul class="list-unstyled">
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span><strong>Everything in Free, plus:</strong></span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span><strong>GST & KYC Verification Badges</strong></span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span><strong>Direct customer enquiries</strong></span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span><strong>Priority search ranking</strong></span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Up to 10 business images</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Unlimited services listing</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Business hours display</span>
                            </li>
                            <li class="mb-3 d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-3"></i>
                                <span>Advanced analytics dashboard</span>
                            </li>
                        </ul>
                        
                        <div class="d-grid mt-4">
                            <a href="{% url 'directory:subscription_plans' %}" class="btn btn-primary btn-lg">Start Premium Trial</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Terms & Benefits -->
<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h2 class="display-6 fw-bold mb-4">Why Choose BizDirectory?</h2>
                
                <div class="d-flex align-items-start mb-4">
                    <div class="bg-primary rounded-circle p-2 me-3 mt-1" style="width: 40px; height: 40px;">
                        <i class="bi bi-shield-check text-white"></i>
                    </div>
                    <div>
                        <h5 class="fw-bold mb-2">Trusted Platform</h5>
                        <p class="text-muted mb-0">KYC verified businesses with authentic reviews and ratings</p>
                    </div>
                </div>
                
                <div class="d-flex align-items-start mb-4">
                    <div class="bg-success rounded-circle p-2 me-3 mt-1" style="width: 40px; height: 40px;">
                        <i class="bi bi-graph-up text-white"></i>
                    </div>
                    <div>
                        <h5 class="fw-bold mb-2">Guaranteed Growth</h5>
                        <p class="text-muted mb-0">92% of businesses report increased customer inquiries</p>
                    </div>
                </div>
                
                <div class="d-flex align-items-start mb-4">
                    <div class="bg-info rounded-circle p-2 me-3 mt-1" style="width: 40px; height: 40px;">
                        <i class="bi bi-headset text-white"></i>
                    </div>
                    <div>
                        <h5 class="fw-bold mb-2">24/7 Support</h5>
                        <p class="text-muted mb-0">Dedicated support team to help you succeed</p>
                    </div>
                </div>
                
                <div class="d-flex align-items-start">
                    <div class="bg-warning rounded-circle p-2 me-3 mt-1" style="width: 40px; height: 40px;">
                        <i class="bi bi-lightning text-white"></i>
                    </div>
                    <div>
                        <h5 class="fw-bold mb-2">Quick Setup</h5>
                        <p class="text-muted mb-0">Get listed and approved within 24-48 hours</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="card border-0 shadow-lg">
                    <div class="card-body p-5">
                        <h4 class="fw-bold mb-4">Terms & Conditions Summary</h4>
                        
                        <div class="accordion" id="termsAccordion">
                            <div class="accordion-item border-0 mb-3">
                                <h2 class="accordion-header">
                                    <button class="accordion-button bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#term1">
                                        <strong>Listing Guidelines</strong>
                                    </button>
                                </h2>
                                <div id="term1" class="accordion-collapse collapse show" data-bs-parent="#termsAccordion">
                                    <div class="accordion-body">
                                        All business information must be accurate and up-to-date. Misleading information may result in listing removal.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item border-0 mb-3">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#term2">
                                        <strong>Verification Process</strong>
                                    </button>
                                </h2>
                                <div id="term2" class="accordion-collapse collapse" data-bs-parent="#termsAccordion">
                                    <div class="accordion-body">
                                        KYC verification requires valid business documents. Premium features activate only after successful verification.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item border-0 mb-3">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#term3">
                                        <strong>Payment & Refunds</strong>
                                    </button>
                                </h2>
                                <div id="term3" class="accordion-collapse collapse" data-bs-parent="#termsAccordion">
                                    <div class="accordion-body">
                                        Annual subscriptions are non-refundable. You can cancel anytime to prevent auto-renewal.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item border-0">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#term4">
                                        <strong>Content Ownership</strong>
                                    </button>
                                </h2>
                                <div id="term4" class="accordion-collapse collapse" data-bs-parent="#termsAccordion">
                                    <div class="accordion-body">
                                        You retain ownership of your content. BizDirectory has the right to display it on the platform.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-4">Ready to Grow Your Business?</h2>
                <p class="lead mb-4">Join thousands of successful businesses on BizDirectory today</p>
                
                {% if user.is_authenticated %}
                    {% if user.profile.is_business_owner %}
                        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                            <a href="{% url 'directory:add_business' %}" class="btn btn-light btn-lg px-4 py-3">
                                <i class="bi bi-plus-circle me-2"></i>Add Your First Listing
                            </a>
                            <a href="{% url 'directory:dashboard_home' %}" class="btn btn-outline-light btn-lg px-4 py-3">
                                Go to Dashboard
                            </a>
                        </div>
                    {% else %}
                        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                            <a href="{% url 'accounts:upgrade_to_business' %}" class="btn btn-light btn-lg px-4 py-3">
                                <i class="bi bi-arrow-up-circle me-2"></i>Upgrade to Business
                            </a>
                            <a href="{% url 'directory:dashboard_home' %}" class="btn btn-outline-light btn-lg px-4 py-3">
                                Go to Dashboard
                            </a>
                        </div>
                    {% endif %}
                {% else %}
                    <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center">
                        <a href="{% url 'account_signup' %}" class="btn btn-light btn-lg px-4 py-3">
                            <i class="bi bi-person-plus me-2"></i>Create Free Account
                        </a>
                        <a href="{% url 'account_login' %}" class="btn btn-outline-light btn-lg px-4 py-3">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Login to Existing Account
                        </a>
                    </div>
                {% endif %}
                
                <p class="mt-4 mb-0 opacity-75">
                    <i class="bi bi-shield-check me-2"></i>
                    No setup fees • Cancel anytime • 100% secure
                </p>
            </div>
        </div>
    </div>
</section>

<style>
.step-number {
    position: absolute;
    top: -10px;
    right: 20px;
    background: linear-gradient(45deg, #0d6efd, #0dcaf0);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9rem;
}

.card {
    position: relative;
}

/* Enhanced Mobile Button Centering */
.btn-container,
.d-flex.flex-column.flex-sm-row {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    justify-content: center;
}

@media (min-width: 576px) {
    .btn-container,
    .d-flex.flex-column.flex-sm-row {
        flex-direction: row;
        gap: 1.5rem;
    }
}

/* Mobile button improvements with perfect centering */
@media (max-width: 575.98px) {
    .btn-lg {
        width: 100%;
        max-width: 280px;
        padding: 1rem 2rem !important;
        font-size: 1rem !important;
        margin: 0 auto; /* Center the button horizontally */
        display: block;
        text-align: center;
    }
    
    /* Ensure button containers are centered */
    .d-flex.flex-column.flex-sm-row {
        align-items: center !important;
        justify-content: center !important;
        text-align: center;
        width: 100%;
    }
    
    /* Center the entire button group */
    .hero-section .container,
    .py-5.bg-primary .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    
    /* Ensure proper spacing between stacked buttons */
    .d-flex.flex-column .btn + .btn {
        margin-top: 0 !important;
    }
    
    /* Hero section mobile adjustments */
    .hero-section .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    .hero-section h1 {
        font-size: 1.75rem !important;
        line-height: 1.3;
        margin-bottom: 1rem;
        text-align: center;
    }
    
    .hero-section .lead {
        font-size: 1rem !important;
        margin-bottom: 2rem;
        text-align: center;
    }
    
    /* CTA section mobile adjustments */
    .py-5.bg-primary h2 {
        font-size: 1.5rem !important;
        line-height: 1.3;
        margin-bottom: 1rem;
        text-align: center;
    }
    
    .py-5.bg-primary .lead {
        font-size: 0.95rem !important;
        margin-bottom: 2rem;
        text-align: center;
    }
    
    /* Center the text content as well */
    .col-lg-8 {
        text-align: center;
    }
}

/* Tablet adjustments */
@media (min-width: 576px) and (max-width: 767.98px) {
    .btn-lg {
        padding: 0.875rem 1.75rem !important;
        font-size: 0.95rem !important;
    }
}

/* Ensure buttons don't break on very small screens */
@media (max-width: 320px) {
    .btn-lg {
        padding: 0.875rem 1.5rem !important;
        font-size: 0.9rem !important;
        max-width: 260px;
        margin: 0 auto;
    }
    
    .hero-section h1 {
        font-size: 1.5rem !important;
    }
    
    .py-5.bg-primary h2 {
        font-size: 1.3rem !important;
    }
}
</style>
{% endblock %}